
const rt_str = (s) => {
    return String.fromCharCode(...s);
};

const Exit = class extends Error {
    constructor(code) {
        super(`exit ${code}`);
        this.code = code;
    }
};

const mangle = (s) => {
    return `ebrew:${s}`;
};

const start = new Date();

const rt_load = (name) => {
    if (/^math-/.test(name)) {
        name = name.slice(5);
        if (Math[name] instanceof Function) {
            return Math[name];
        } else {
            return () => Math[name];
        }
    }
    switch (name) {
        case 'apply':
            return (self, func, args) => {
                const obj = [];
                for (let i = 0; args[i] != null; i++) {
                    obj.push(args[i]);
                }
                return func.apply(self, obj);
            };
        case 'new':
            return () => {
                return {};
            };
        case 'set':
            return (value, key, obj) => {
                obj[key] = value;
                return obj;
            };
        case '--':
        case '---':
        case '----':
            return (f) => {
                return f;
            };
        case 'get':
            return (key, obj) => {
                return obj[key];
            };
        case 'this':
            return () => {
                return window;
            };
        case 'if':
            return (c, t, f) => {
                if (c) {
                    return t();
                } else {
                    return f();
                }
            };
        case 'on-init':
            return (f) => {
                const canvas = document.createElement('canvas');
                document.body.appendChild(canvas);
                canvas.style.height = '100%';
                f();
            };
        case 'str': return (c) => {
            return String(c);
        };
        case 'while':
            return (c, v) => {
                while (c()) {
                    v();
                }
            };
        case 'cat':
            return (x, y) => {
                return `${x}${y}`;
            };
        case 'print':
            return (a) => {
                console.log(a);
                return a;
            };
        case 'add':
            return (x, y) => {
                return y + x;
            };
        case 'sub':
            return (x, y) => {
                return y - x;
            };
        case 'mul':
            return (x, y) => {
                return y * x;
            };
        case 'div':
            return (x, y) => {
                return y / x;
            };
        case 'mod':
            return (x, y) => {
                return y % x;
            };
        case 'eq':
            return (x, y) => {
                return y == x ? 1 : 0;
            };
        case 'lt':
            return (x, y) => {
                return y < x ? 1 : 0;
            };
    }
    throw new Error(`unknown: [${name}]`);
}

(() => { const eb_new = rt_load("new"); const eb_get = rt_load("get"); const eb_set = rt_load("set"); const eb__DASH__DASH_ = rt_load("--"); const eb__DASH__DASH__DASH_ = rt_load("---"); const eb_this = rt_load("this"); const eb_apply = rt_load("apply"); const eb_if = rt_load("if"); const eb_while = rt_load("while"); const eb_print = rt_load("print"); const eb_str = rt_load("str"); const eb_cat = rt_load("cat"); const eb_add = rt_load("add"); const eb_sub = rt_load("sub"); const eb_mul = rt_load("mul"); const eb_div = rt_load("div"); const eb_mod = rt_load("mod"); const eb_lt = rt_load("lt"); const eb_eq = rt_load("eq"); const eb_let = (eb_x, eb_in) => (eb_in(eb_x)); const eb_not = (eb_x) => (eb_if(eb_x, (() => 0), (() => 1))); const eb_do = (eb_x, eb_y) => eb_y; const eb_and = (eb_a, eb_b) => (eb_if(eb_a, (() => (eb_b())), (() => eb_a))); const eb_or = (eb_a, eb_b) => (eb_if(eb_a, (() => eb_a), (() => (eb_b())))); (eb_let(((eb_num, eb_func) => (eb_let((eb_new()), ((eb_cur) => (eb_do((eb_set(eb_num, rt_str([110]), eb_cur)), (eb_while((() => (eb_lt((eb_get(rt_str([110]), eb_cur)), 0))), (() => (eb_do((eb_func((eb_get(rt_str([110]), eb_cur)))), (eb_set((eb_add(1, (eb_get(rt_str([110]), eb_cur)))), rt_str([110]), eb_cur))))))))))))), ((eb_upto) => (eb_let((() => (eb_set(0, rt_str([108, 101, 110, 103, 116, 104]), (eb_new())))), ((eb_array) => (eb_let(((eb_elem, eb_arr) => (eb_let((eb_get(rt_str([108, 101, 110, 103, 116, 104]), eb_arr)), ((eb_head) => (eb_do((eb_set((eb_add(1, eb_head)), rt_str([108, 101, 110, 103, 116, 104]), eb_arr)), (eb_set(eb_elem, eb_head, eb_arr)))))))), ((eb_push) => (eb_let(((eb_arr) => (eb_get(rt_str([108, 101, 110, 103, 116, 104]), eb_arr))), ((eb_length) => (eb_let(((eb_arr, eb_k) => (eb_upto((eb_length(eb_arr)), ((eb_index) => (eb_k(eb_index, (eb_get(eb_index, eb_arr)))))))), ((eb_each) => (eb_let(((eb_arr, eb_k) => (eb_let((eb_length(eb_arr)), ((eb_max) => (eb_let((eb_new()), ((eb_box) => (eb_do((eb_set(0, rt_str([114, 101, 97, 100]), eb_box)), (eb_do((eb_set(0, rt_str([119, 114, 105, 116, 101]), eb_box)), (eb_do((eb_while((() => (eb_lt(eb_max, (eb_get(rt_str([114, 101, 97, 100]), eb_box))))), (() => (eb_let((eb_get(rt_str([114, 101, 97, 100]), eb_box)), ((eb_read) => (eb_let((eb_get(rt_str([119, 114, 105, 116, 101]), eb_box)), ((eb_write) => (eb_let((eb_get(eb_read, eb_arr)), ((eb_cur) => (eb_let((eb_k(eb_read, eb_cur)), ((eb_res) => (eb_do((eb_set((eb_add(1, eb_read)), rt_str([114, 101, 97, 100]), eb_box)), (eb_and(eb_res, (() => (eb_do((eb_set(eb_cur, eb_write, eb_arr)), (eb_set((eb_add(1, eb_write)), rt_str([119, 114, 105, 116, 101]), eb_box)))))))))))))))))))))))), (eb_do((eb_set((eb_get(rt_str([119, 114, 105, 116, 101]), eb_box)), rt_str([108, 101, 110, 103, 116, 104]), eb_arr)), 0))))))))))))))), ((eb_filter) => (eb_let(((eb_func, eb_gen) => (eb_let((eb_new()), ((eb_me) => (eb_let((eb_array()), ((eb_args) => (eb_gen(((eb_val) => (eb_set(eb_val, rt_str([115, 101, 108, 102]), eb_me))), ((eb_val) => (eb_push(eb_val, eb_args))), (() => (eb_apply((eb_get(rt_str([115, 101, 108, 102]), eb_me)), eb_func, eb_args)))))))))))), ((eb_call) => (eb_let(((eb_t, eb_k) => (eb_call((eb_get(rt_str([115, 101, 116, 73, 110, 116, 101, 114, 118, 97, 108]), (eb_this()))), ((eb_self, eb_arg, eb_end) => (eb_do((eb_arg((eb__DASH__DASH_((() => (eb_k())))))), (eb_do((eb_arg(eb_t)), (eb_end()))))))))), ((eb_set_DASH_interval) => (eb_let(((eb_t, eb_k) => (eb_call((eb_get(rt_str([115, 101, 116, 84, 105, 109, 101, 111, 117, 116]), (eb_this()))), ((eb_self, eb_arg, eb_end) => (eb_do((eb_arg((eb__DASH__DASH_((() => (eb_k())))))), (eb_do((eb_arg(eb_t)), (eb_end()))))))))), ((eb_set_DASH_timeout) => (eb_let((() => (eb_call((eb_get(rt_str([114, 97, 110, 100, 111, 109]), (eb_get(rt_str([77, 97, 116, 104]), (eb_this()))))), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self((eb_get(rt_str([77, 97, 116, 104]), (eb_this()))))), (eb_end()))))))), ((eb_math_DASH_random) => (eb_let(((eb_x) => (eb_if((eb_lt(0, eb_x)), (() => (eb_sub(eb_x, 0))), (() => eb_x)))), ((eb_abs) => (eb_let(((eb_low, eb_high) => (eb_let((eb_math_DASH_random()), ((eb_res) => (eb_add(eb_low, (eb_mul((eb_sub(eb_low, eb_high)), eb_res)))))))), ((eb_random) => (eb_let((eb_get(rt_str([100, 111, 99, 117, 109, 101, 110, 116]), (eb_this()))), ((eb_document) => (eb_let((eb_get(rt_str([98, 111, 100, 121]), eb_document)), ((eb_body) => (eb_let(((eb_name) => (eb_call((eb_get(rt_str([99, 114, 101, 97, 116, 101, 69, 108, 101, 109, 101, 110, 116]), eb_document)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self((eb_get(rt_str([100, 111, 99, 117, 109, 101, 110, 116]), (eb_this()))))), (eb_do((eb_arg(eb_name)), (eb_end()))))))))), ((eb_create_DASH_element) => (eb_let(((eb_child, eb_elem) => (eb_call((eb_get(rt_str([97, 112, 112, 101, 110, 100]), eb_elem)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_elem)), (eb_do((eb_arg(eb_child)), (eb_end()))))))))), ((eb_element_DASH_append) => (eb_let((eb_create_DASH_element(rt_str([99, 97, 110, 118, 97, 115]))), ((eb_canvas) => (eb_do((eb_element_DASH_append(eb_canvas, eb_body)), (eb_do((eb_set(rt_str([49, 48, 48, 37]), rt_str([104, 101, 105, 103, 104, 116]), (eb_get(rt_str([115, 116, 121, 108, 101]), eb_canvas)))), (eb_let((eb_call((eb_get(rt_str([103, 101, 116, 67, 111, 110, 116, 101, 120, 116]), eb_canvas)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_canvas)), (eb_do((eb_arg(rt_str([50, 100]))), (eb_end())))))))), ((eb_ctx) => (eb_let(((eb_x) => (eb_div((eb_get(rt_str([80, 73]), (eb_get(rt_str([77, 97, 116, 104]), (eb_this()))))), (eb_mul(180, eb_x))))), ((eb_rad_DASH_to_DASH_deg) => (eb_let(((eb_x) => (eb_mul((eb_get(rt_str([80, 73]), (eb_get(rt_str([77, 97, 116, 104]), (eb_this()))))), (eb_div(180, eb_x))))), ((eb_deg_DASH_to_DASH_rad) => (eb_let(((eb_n, eb_k) => (eb_do((eb_call((eb_get(rt_str([114, 111, 116, 97, 116, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_n)), (eb_end())))))))), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_call((eb_get(rt_str([114, 111, 116, 97, 116, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg((eb_sub(eb_n, 0)))), (eb_end())))))))), eb_res)))))))), ((eb_rad) => (eb_let(((eb_m, eb_k) => (eb_let((eb_deg_DASH_to_DASH_rad(eb_x)), ((eb_n) => (eb_do((eb_call((eb_get(rt_str([114, 111, 116, 97, 116, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_n)), (eb_end())))))))), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_call((eb_get(rt_str([114, 111, 116, 97, 116, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg((eb_sub(eb_n, 0)))), (eb_end())))))))), eb_res))))))))))), ((eb_deg) => (eb_let(((eb_x, eb_y, eb_k) => (eb_let((eb_call((eb_get(rt_str([103, 101, 116, 84, 114, 97, 110, 115, 102, 111, 114, 109]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end())))))), ((eb_tf) => (eb_do((eb_call((eb_get(rt_str([116, 114, 97, 110, 115, 108, 97, 116, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_x)), (eb_do((eb_arg(eb_y)), (eb_end())))))))))), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_call((eb_get(rt_str([115, 101, 116, 84, 114, 97, 110, 115, 102, 111, 114, 109]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_tf)), (eb_end())))))))), eb_res))))))))))), ((eb_at) => (eb_let(((eb_w, eb_h) => (eb_call((eb_get(rt_str([115, 116, 114, 111, 107, 101, 82, 101, 99, 116]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(0)), (eb_do((eb_arg(0)), (eb_do((eb_arg(eb_w)), (eb_do((eb_arg(eb_h)), (eb_end()))))))))))))))), ((eb_stroke_DASH_rect) => (eb_let(((eb_w, eb_h) => (eb_call((eb_get(rt_str([102, 105, 108, 108, 82, 101, 99, 116]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(0)), (eb_do((eb_arg(0)), (eb_do((eb_arg(eb_w)), (eb_do((eb_arg(eb_h)), (eb_end()))))))))))))))), ((eb_fill_DASH_rect) => (eb_let(((eb_k) => (eb_do((eb_call((eb_get(rt_str([98, 101, 103, 105, 110, 80, 97, 116, 104]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end())))))), (eb_do((eb_k((() => (eb_call((eb_get(rt_str([115, 116, 114, 111, 107, 101]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end()))))))), (() => (eb_call((eb_get(rt_str([102, 105, 108, 108]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end()))))))), (() => (eb_call((eb_get(rt_str([99, 108, 111, 115, 101, 80, 97, 116, 104]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end()))))))), ((eb_x, eb_y) => (eb_call((eb_get(rt_str([109, 111, 118, 101, 84, 111]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_x)), (eb_do((eb_arg(eb_y)), (eb_end()))))))))))), ((eb_x, eb_y) => (eb_call((eb_get(rt_str([108, 105, 110, 101, 84, 111]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_x)), (eb_do((eb_arg(eb_y)), (eb_end()))))))))))))), (eb_call((eb_get(rt_str([99, 108, 111, 115, 101, 80, 97, 116, 104]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_end()))))))))))), ((eb_with_DASH_path) => (eb_let(((eb_name, eb_k) => (eb_let((eb_get(rt_str([102, 111, 110, 116]), eb_ctx)), ((eb_old) => (eb_do((eb_set(eb_name, rt_str([102, 111, 110, 116]), eb_ctx)), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_set(eb_old, rt_str([102, 111, 110, 116]), eb_ctx)), eb_res))))))))))), ((eb_font) => (eb_let(((eb_text) => (eb_call((eb_get(rt_str([102, 105, 108, 108, 84, 101, 120, 116]), eb_ctx)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_ctx)), (eb_do((eb_arg(eb_text)), (eb_do((eb_arg(0)), (eb_do((eb_arg(0)), (eb_end()))))))))))))), ((eb_say) => (eb_let(((eb_text) => (eb_do((eb_say(eb_text)), (eb_print(eb_text))))), ((eb_debug) => (eb_let(((eb_c, eb_k) => (eb_let((eb_get(rt_str([102, 105, 108, 108, 83, 116, 121, 108, 101]), eb_ctx)), ((eb_old_DASH_c) => (eb_do((eb_set(eb_c, rt_str([102, 105, 108, 108, 83, 116, 121, 108, 101]), eb_ctx)), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_set(eb_old_DASH_c, rt_str([102, 105, 108, 108, 83, 116, 121, 108, 101]), eb_ctx)), eb_res))))))))))), ((eb_fill) => (eb_let(((eb_c, eb_k) => (eb_let((eb_get(rt_str([115, 116, 114, 111, 107, 101, 83, 116, 121, 108, 101]), eb_ctx)), ((eb_old_DASH_c) => (eb_do((eb_set(eb_c, rt_str([115, 116, 114, 111, 107, 101, 83, 116, 121, 108, 101]), eb_ctx)), (eb_let((eb_k()), ((eb_res) => (eb_do((eb_set(eb_old_DASH_c, rt_str([115, 116, 114, 111, 107, 101, 83, 116, 121, 108, 101]), eb_ctx)), eb_res))))))))))), ((eb_outline) => (eb_let(((eb_c, eb_k) => (eb_outline(eb_c, (() => (eb_fill(eb_c, (() => (eb_k())))))))), ((eb_color) => (eb_let(rt_str([114, 101, 100]), ((eb_red) => (eb_let(rt_str([111, 114, 97, 110, 103, 101]), ((eb_orange) => (eb_let(rt_str([121, 101, 108, 108, 111, 119]), ((eb_yellow) => (eb_let(rt_str([103, 114, 101, 101, 110]), ((eb_green) => (eb_let(rt_str([98, 108, 117, 101]), ((eb_blue) => (eb_let(rt_str([112, 117, 114, 112, 108, 101]), ((eb_purple) => (eb_let(rt_str([119, 104, 105, 116, 101]), ((eb_white) => (eb_let(rt_str([103, 114, 101, 121]), ((eb_grey) => (eb_let(rt_str([98, 108, 97, 99, 107]), ((eb_black) => (eb_let((eb_new()), ((eb_keys) => (eb_let((eb_new()), ((eb_new_DASH_keys_DASH_box) => (eb_do((eb_set((eb_new()), rt_str([98, 111, 120]), eb_new_DASH_keys_DASH_box)), (eb_let((() => (eb_set((eb_new()), rt_str([98, 111, 120]), eb_new_DASH_keys_DASH_box))), ((eb_reset_DASH_new_DASH_keys) => (eb_let((() => (eb_get(rt_str([98, 111, 120]), eb_new_DASH_keys_DASH_box))), ((eb_new_DASH_keys) => (eb_do((eb_call((eb_get(rt_str([97, 100, 100, 69, 118, 101, 110, 116, 76, 105, 115, 116, 101, 110, 101, 114]), eb_body)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_body)), (eb_do((eb_arg(rt_str([107, 101, 121, 100, 111, 119, 110]))), (eb_do((eb_arg((eb__DASH__DASH__DASH_(((eb_arg1) => (eb_do((eb_set(1, (eb_get(rt_str([107, 101, 121]), eb_arg1)), eb_keys)), (eb_or((eb_get(rt_str([114, 101, 112, 101, 97, 116]), eb_arg1)), (() => (eb_set(1, (eb_get(rt_str([107, 101, 121]), eb_arg1)), eb_new_DASH_keys_DASH_box)))))))))))), (eb_end())))))))))), (eb_do((eb_call((eb_get(rt_str([97, 100, 100, 69, 118, 101, 110, 116, 76, 105, 115, 116, 101, 110, 101, 114]), eb_body)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_body)), (eb_do((eb_arg(rt_str([107, 101, 121, 117, 112]))), (eb_do((eb_arg((eb__DASH__DASH__DASH_(((eb_arg1) => (eb_set(0, (eb_get(rt_str([107, 101, 121]), eb_arg1)), eb_keys))))))), (eb_end())))))))))), (eb_let(((eb_t, eb_f) => (eb_call((eb_get(rt_str([115, 101, 116, 73, 110, 116, 101, 114, 118, 97, 108]), (eb_this()))), ((eb_self, eb_arg, eb_end) => (eb_do((eb_arg((eb__DASH__DASH_((() => (eb_f())))))), (eb_do((eb_arg(eb_t)), (eb_end()))))))))), ((eb_every) => (eb_let(((eb_key, eb_cont) => (eb_and((eb_eq(1, (eb_get(eb_key, eb_new_DASH_keys_DASH_box)))), (() => (eb_do((eb_set(0, eb_key, eb_new_DASH_keys_DASH_box)), (eb_cont()))))))), ((eb_if_DASH_new_DASH_key_DASH_down) => (eb_let(((eb_key, eb_cont) => (eb_and((eb_get(eb_key, eb_keys)), (() => (eb_cont()))))), ((eb_if_DASH_key_DASH_down) => (eb_let(((eb_a, eb_b, eb_v) => (eb_and((eb_lt(eb_b, eb_v)), (() => (eb_lt(eb_v, eb_a)))))), ((eb_between) => (eb_let(((eb_x, eb_y) => (eb_and((eb_between(0, eb_x, eb_y)), (() => (eb_between(0, (eb_sub(eb_x, 0)), eb_y)))))), ((eb_close) => (eb_let((eb_get(rt_str([108, 111, 99, 97, 108, 83, 116, 111, 114, 97, 103, 101]), (eb_this()))), ((eb_local_DASH_storage) => (eb_let((eb_get(rt_str([74, 83, 79, 78]), (eb_this()))), ((eb_json) => (eb_let(((eb_str) => (eb_call((eb_get(rt_str([112, 97, 114, 115, 101]), eb_json)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_local_DASH_storage)), (eb_do((eb_arg(eb_str)), (eb_end()))))))))), ((eb_json_DASH_parse) => (eb_let(((eb_obj) => (eb_call((eb_get(rt_str([115, 116, 114, 105, 110, 103, 105, 102, 121]), eb_json)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_local_DASH_storage)), (eb_do((eb_arg(eb_obj)), (eb_end()))))))))), ((eb_json_DASH_stringify) => (eb_let(((eb_key, eb_else) => (eb_let((eb_call((eb_get(rt_str([103, 101, 116, 73, 116, 101, 109]), eb_local_DASH_storage)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_local_DASH_storage)), (eb_do((eb_arg(eb_key)), (eb_end())))))))), ((eb_str) => (eb_if(eb_str, (() => (eb_json_DASH_parse(eb_str))), (() => (eb_else())))))))), ((eb_local_DASH_get) => (eb_let(((eb_key, eb_value) => (eb_call((eb_get(rt_str([115, 101, 116, 73, 116, 101, 109]), eb_local_DASH_storage)), ((eb_self, eb_arg, eb_end) => (eb_do((eb_self(eb_local_DASH_storage)), (eb_do((eb_arg(eb_key)), (eb_do((eb_arg((eb_json_DASH_stringify(eb_value)))), (eb_end()))))))))))), ((eb_local_DASH_set) => (eb_let(rt_str([52, 48, 112, 120, 32, 65, 114, 105, 97, 108]), ((eb_the_DASH_font) => (eb_let((eb_new()), ((eb_game) => (eb_let((() => (eb_get(rt_str([112, 108, 97, 121, 101, 114]), eb_game))), ((eb_player) => (eb_let(((eb_value) => (eb_set(eb_value, rt_str([112, 108, 97, 121, 101, 114]), eb_game))), ((eb_set_DASH_player) => (eb_let((() => (eb_let((eb_get(rt_str([106, 97, 118, 101, 108, 105, 110, 115]), (eb_player()))), ((eb_javelins) => (eb_let((eb_new()), ((eb_the_DASH_javelin) => (eb_do((eb_set((eb_random(0, (eb_get(rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)))), rt_str([121]), eb_the_DASH_javelin)), (eb_do((eb_set((eb_add(20, (eb_get(rt_str([119, 105, 100, 116, 104]), eb_canvas)))), rt_str([120]), eb_the_DASH_javelin)), (eb_do((eb_set(0, rt_str([114, 111, 116]), eb_the_DASH_javelin)), (eb_do((eb_push(eb_the_DASH_javelin, eb_javelins)), 0))))))))))))))), ((eb_spawn_DASH_javelin) => (eb_let((() => (eb_do((eb_set(rt_str([109, 101, 110, 117]), rt_str([109, 111, 100, 101]), (eb_player()))), (eb_do((eb_set(100, rt_str([112, 111, 115, 45, 121]), (eb_player()))), (eb_do((eb_set(0, rt_str([118, 101, 108, 45, 121]), (eb_player()))), (eb_do((eb_set((eb_array()), rt_str([106, 97, 118, 101, 108, 105, 110, 115]), (eb_player()))), (eb_do((eb_set((eb_div(10, 1)), rt_str([97, 99, 99, 45, 121]), (eb_player()))), 0))))))))))), ((eb_reset_DASH_game) => (eb_do((eb_set_DASH_player((eb_local_DASH_get(rt_str([103, 97, 109, 101]), (() => (eb_let((eb_new()), ((eb_cur) => (eb_do((eb_set_DASH_player(eb_cur)), (eb_do((eb_set(0, rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), eb_cur)), (eb_do((eb_set(0, rt_str([115, 99, 111, 114, 101]), eb_cur)), (eb_do((eb_reset_DASH_game()), eb_cur)))))))))))))))), (eb_do((eb_every(100, (() => (eb_and((eb_eq(rt_str([112, 108, 97, 121]), (eb_get(rt_str([109, 111, 100, 101]), (eb_player()))))), (() => (eb_spawn_DASH_javelin()))))))), (eb_do((eb_every(16, (() => (eb_or((eb_get(rt_str([112, 97, 117, 115, 101]), (eb_this()))), (() => (eb_do((eb_local_DASH_set(rt_str([103, 97, 109, 101]), (eb_player()))), (eb_do((eb_set((eb_get(rt_str([105, 110, 110, 101, 114, 87, 105, 100, 116, 104]), (eb_this()))), rt_str([119, 105, 100, 116, 104]), eb_canvas)), (eb_do((eb_set((eb_get(rt_str([105, 110, 110, 101, 114, 72, 101, 105, 103, 104, 116]), (eb_this()))), rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)), (eb_do((eb_set((eb_add((eb_get(rt_str([118, 101, 108, 45, 121]), (eb_player()))), (eb_get(rt_str([112, 111, 115, 45, 121]), (eb_player()))))), rt_str([112, 111, 115, 45, 121]), (eb_player()))), (eb_do((eb_set((eb_add((eb_get(rt_str([97, 99, 99, 45, 121]), (eb_player()))), (eb_get(rt_str([118, 101, 108, 45, 121]), (eb_player()))))), rt_str([118, 101, 108, 45, 121]), (eb_player()))), (eb_do((eb_if_DASH_new_DASH_key_DASH_down(rt_str([99]), (() => (eb_set((eb_not((eb_get(rt_str([99, 114, 105, 109, 101, 45, 109, 111, 100, 101]), (eb_player()))))), rt_str([99, 114, 105, 109, 101, 45, 109, 111, 100, 101]), (eb_player())))))), (eb_do((eb_if_DASH_new_DASH_key_DASH_down(rt_str([114]), (() => (eb_let((eb_new()), ((eb_cur) => (eb_do((eb_set_DASH_player(eb_cur)), (eb_do((eb_set(0, rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), eb_cur)), (eb_do((eb_set(0, rt_str([115, 99, 111, 114, 101]), eb_cur)), (eb_do((eb_reset_DASH_game()), (eb_do((eb_set(0, rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), eb_cur)), (eb_do((eb_set(0, rt_str([115, 99, 111, 114, 101]), eb_cur)), 0)))))))))))))))))), (eb_if((eb_eq(rt_str([109, 101, 110, 117]), (eb_get(rt_str([109, 111, 100, 101]), (eb_player()))))), (() => (eb_do((eb_font(eb_the_DASH_font, (() => (eb_at(10, 40, (() => (eb_say(rt_str([80, 108, 105, 103, 104, 116, 32, 111, 102, 32, 116, 104, 101, 32, 74, 97, 118, 101, 108, 105, 110, 32, 67, 97, 116, 99, 104, 101, 114]))))))))), (eb_do((eb_font(eb_the_DASH_font, (() => (eb_at(10, 100, (() => (eb_say(rt_str([80, 114, 101, 115, 115, 32, 91, 83, 112, 97, 99, 101, 93, 32, 116, 111, 32, 83, 116, 97, 114, 116]))))))))), (eb_do((eb_font(eb_the_DASH_font, (() => (eb_at(10, (eb_sub(70, (eb_get(rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)))), (() => (eb_say((eb_cat(rt_str([104, 105, 103, 104, 32, 115, 99, 111, 114, 101, 32]), (eb_get(rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), (eb_player()))))))))))))), (eb_do((eb_font(eb_the_DASH_font, (() => (eb_at(10, (eb_sub(20, (eb_get(rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)))), (() => (eb_say((eb_cat(rt_str([115, 99, 111, 114, 101, 32]), (eb_get(rt_str([115, 99, 111, 114, 101]), (eb_player()))))))))))))), (eb_do((eb_if_DASH_new_DASH_key_DASH_down(rt_str([32]), (() => (eb_do((eb_set(rt_str([112, 108, 97, 121]), rt_str([109, 111, 100, 101]), (eb_player()))), (eb_do((eb_set(0, rt_str([115, 99, 111, 114, 101]), (eb_player()))), (eb_spawn_DASH_javelin())))))))), 0))))))))))), (() => (eb_if((eb_eq(rt_str([112, 108, 97, 121]), (eb_get(rt_str([109, 111, 100, 101]), (eb_player()))))), (() => (eb_let((eb_sub(10, (eb_get(rt_str([112, 111, 115, 45, 121]), (eb_player()))))), ((eb_py) => (eb_let(10, ((eb_px) => (eb_do((eb_if_DASH_new_DASH_key_DASH_down(rt_str([32]), (() => (eb_set((eb_sub((eb_div(10, 35)), 0)), rt_str([118, 101, 108, 45, 121]), (eb_player())))))), (eb_do((eb_and((eb_lt((eb_get(rt_str([112, 111, 115, 45, 121]), (eb_player()))), (eb_get(rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)))), (() => (eb_reset_DASH_game())))), (eb_do((eb_and((eb_lt(0, (eb_get(rt_str([112, 111, 115, 45, 121]), (eb_player()))))), (() => (eb_reset_DASH_game())))), (eb_do((eb_at(eb_px, eb_py, (() => (eb_fill_DASH_rect(20, 20))))), (eb_let((eb_new()), ((eb_fail) => (eb_do((eb_set(0, rt_str([105, 115]), eb_fail)), (eb_do((eb_filter((eb_get(rt_str([106, 97, 118, 101, 108, 105, 110, 115]), (eb_player()))), ((eb_index, eb_entry) => (eb_let(eb_entry, ((eb_j) => (eb_let((eb_get(rt_str([120]), eb_j)), ((eb_x) => (eb_let((eb_get(rt_str([121]), eb_j)), ((eb_y) => (eb_do((eb_set((eb_sub(5, eb_x)), rt_str([120]), eb_j)), (eb_do((eb_color((eb_if((eb_get(rt_str([99, 114, 105, 109, 101, 45, 109, 111, 100, 101]), (eb_player()))), (() => (eb_if((eb_mod(2, (eb_sub(eb_index, (eb_length((eb_get(rt_str([106, 97, 118, 101, 108, 105, 110, 115]), (eb_player()))))))))), (() => eb_red), (() => eb_blue)))), (() => eb_black))), (() => (eb_at(eb_x, eb_y, (() => (eb_fill_DASH_rect(40, 10)))))))), (eb_do((eb_and((eb_lt(30, (eb_abs((eb_sub(eb_x, eb_px)))))), (() => (eb_and((eb_lt(10, (eb_abs((eb_sub(eb_y, eb_py)))))), (() => (eb_set(1, rt_str([105, 115]), eb_fail)))))))), (eb_let((eb_lt(eb_x, (eb_sub(40, 0)))), ((eb_passed) => (eb_do((eb_or(eb_passed, (() => (eb_set((eb_add(1, (eb_get(rt_str([115, 99, 111, 114, 101]), (eb_player()))))), rt_str([115, 99, 111, 114, 101]), (eb_player())))))), eb_passed))))))))))))))))))))))), (eb_let((eb_get(rt_str([115, 99, 111, 114, 101]), (eb_player()))), ((eb_last_DASH_score) => (eb_do((eb_and((eb_lt(eb_last_DASH_score, (eb_get(rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), (eb_player()))))), (() => (eb_set(eb_last_DASH_score, rt_str([104, 105, 103, 104, 115, 99, 111, 114, 101]), (eb_player())))))), (eb_do((eb_font(eb_the_DASH_font, (() => (eb_at(10, (eb_sub(20, (eb_get(rt_str([104, 101, 105, 103, 104, 116]), eb_canvas)))), (() => (eb_say((eb_cat(rt_str([115, 99, 111, 114, 101, 32]), (eb_get(rt_str([115, 99, 111, 114, 101]), (eb_player()))))))))))))), (eb_do((eb_and((eb_get(rt_str([105, 115]), eb_fail)), (() => (eb_reset_DASH_game())))), 0))))))))))))))))))))))))))))))), (() => (eb_print((eb_cat(rt_str([98, 97, 100, 32, 109, 111, 100, 101, 58, 32]), (eb_get(rt_str([109, 111, 100, 101]), (eb_player()))))))))))))))))))))))))))))))))), 0)))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))))); })().catch((e) => { throw e; })